"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"chatPerplexity",{enumerable:!0,get:function(){return e}});const e=async(e="How many stars are there in our galaxy?",t="",{model:r="llama-3.1-sonar-small-128k-online",system:o="Be precise and concise.",max_tokens:a=1e3,temperature:s=.2,top_p:i=.9,search_domain_filter:n=["perplexity.ai"],return_images:l=!1,return_related_questions:c=!1,search_recency_filter:p="month",top_k:y=0,stream:u=!1,presence_penalty:h=0,frequency_penalty:d=1}={})=>{if(!t)throw Error("API key is required");let m={method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({model:r,messages:[{role:"system",content:o},{role:"user",content:e}],max_tokens:a,temperature:s,top_p:i,search_domain_filter:n,return_images:l,return_related_questions:c,search_recency_filter:p,top_k:y,stream:u,presence_penalty:h,frequency_penalty:d})};try{let e=await fetch("https://api.perplexity.ai/chat/completions",m);if(!e.ok){let t=await e.text();throw Error(`API request failed: ${e.status} ${e.statusText}
${t}`)}return await e.json()}catch(e){throw console.error("Perplexity API Error:",e),e}};