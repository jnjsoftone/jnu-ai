let e=async(e="How many stars are there in our galaxy?",t="",{model:r="llama-3.1-sonar-small-128k-online",system:a="Be precise and concise.",max_tokens:o=1e3,temperature:i=.2,top_p:s=.9,search_domain_filter:n=["perplexity.ai"],return_images:l=!1,return_related_questions:c=!1,search_recency_filter:p="month",top_k:h=0,stream:y=!1,presence_penalty:m=0,frequency_penalty:u=1}={})=>{if(!t)throw Error("API key is required");let x={method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({model:r,messages:[{role:"system",content:a},{role:"user",content:e}],max_tokens:o,temperature:i,top_p:s,search_domain_filter:n,return_images:l,return_related_questions:c,search_recency_filter:p,top_k:h,stream:y,presence_penalty:m,frequency_penalty:u})};try{let e=await fetch("https://api.perplexity.ai/chat/completions",x);if(!e.ok){let t=await e.text();throw Error(`API request failed: ${e.status} ${e.statusText}
${t}`)}return await e.json()}catch(e){throw console.error("Perplexity API Error:",e),e}};export{e as chatPerplexity};